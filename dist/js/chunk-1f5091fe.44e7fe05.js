(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f5091fe","chunk-59fb9eb0"],{"29ac":function(t,e,o){},"2fe1":function(t,e,o){"use strict";o.d(e,"a",(function(){return y})),o.d(e,"c",(function(){return b}));var n=o("2b0e");
/**
  * vue-class-component v7.2.3
  * (c) 2015-present Evan You
  * @license MIT
  */function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function a(t){return c(t)||s(t)||u()}function c(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function p(t,e){f(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(o){f(t.prototype,e.prototype,o)})),Object.getOwnPropertyNames(e).forEach((function(o){f(t,e,o)}))}function f(t,e,o){var n=o?Reflect.getOwnMetadataKeys(e,o):Reflect.getOwnMetadataKeys(e);n.forEach((function(n){var r=o?Reflect.getOwnMetadata(n,e,o):Reflect.getOwnMetadata(n,e);o?Reflect.defineMetadata(n,r,t,o):Reflect.defineMetadata(n,r,t)}))}var l={__proto__:[]},v=l instanceof Array;function y(t){return function(e,o,n){var r="function"===typeof e?e:e.constructor;r.__decorators__||(r.__decorators__=[]),"number"!==typeof n&&(n=void 0),r.__decorators__.push((function(e){return t(e,o,n)}))}}function b(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return n["a"].extend({mixins:e})}function h(t){var e=r(t);return null==t||"object"!==e&&"function"!==e}function m(t,e){var o=e.prototype._init;e.prototype._init=function(){var e=this,o=Object.getOwnPropertyNames(t);if(t.$options.props)for(var n in t.$options.props)t.hasOwnProperty(n)||o.push(n);o.forEach((function(o){"_"!==o.charAt(0)&&Object.defineProperty(e,o,{get:function(){return t[o]},set:function(e){t[o]=e},configurable:!0})}))};var n=new e;e.prototype._init=o;var r={};return Object.keys(n).forEach((function(t){void 0!==n[t]&&(r[t]=n[t])})),r}var g=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var o=t.prototype;Object.getOwnPropertyNames(o).forEach((function(t){if("constructor"!==t)if(g.indexOf(t)>-1)e[t]=o[t];else{var n=Object.getOwnPropertyDescriptor(o,t);void 0!==n.value?"function"===typeof n.value?(e.methods||(e.methods={}))[t]=n.value:(e.mixins||(e.mixins=[])).push({data:function(){return i({},t,n.value)}}):(n.get||n.set)&&((e.computed||(e.computed={}))[t]={get:n.get,set:n.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return m(this,t)}});var r=t.__decorators__;r&&(r.forEach((function(t){return t(e)})),delete t.__decorators__);var a=Object.getPrototypeOf(t.prototype),c=a instanceof n["a"]?a.constructor:n["a"],s=c.extend(e);return j(s,t,c),d()&&p(s,t),s}var O={prototype:!0,arguments:!0,callee:!0,caller:!0};function j(t,e,o){Object.getOwnPropertyNames(e).forEach((function(n){if(!O[n]){var r=Object.getOwnPropertyDescriptor(t,n);if(!r||r.configurable){var i=Object.getOwnPropertyDescriptor(e,n);if(!v){if("cid"===n)return;var a=Object.getOwnPropertyDescriptor(o,n);if(!h(i.value)&&a&&a.value===i.value)return}0,Object.defineProperty(t,n,i)}}}))}function k(t){return"function"===typeof t?_(t):function(e){return _(e,t)}}k.registerHooks=function(t){g.push.apply(g,a(t))},e["b"]=k},4001:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.note?o("div",{staticClass:"page-change__note"},[o("div",{staticClass:"note__title"},[o("h1",[t._v(" #"+t._s(t.note.id)+": "),t.isEdit?t._e():o("span",[t._v(t._s(t.noteTitle))]),t.isEdit?o("input",{staticClass:"input__title",attrs:{type:"text"},domProps:{value:t.note.title},on:{input:t.input}}):t._e()]),o("small",{staticClass:"event ml-1",on:{click:function(e){t.isEdit=!t.isEdit}}},[t._v("["+t._s(t.isEdit?"Закончить редактирование":"Изменить заголовок")+"]")])]),o("hr"),o("app-todo-list",{attrs:{todos:t.note.todos},on:{"remove-todo":t.removeTodo}}),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todoDescription,expression:"todoDescription"}],staticClass:"mr-2",attrs:{type:"text"},domProps:{value:t.todoDescription},on:{input:function(e){e.target.composing||(t.todoDescription=e.target.value)}}}),o("small",{staticClass:"event",on:{click:t.addTodo}},[t._v("[Добавить задачу]")])]),o("hr"),o("br"),o("div",{staticClass:"options"},[o("button",{on:{click:t.toBack}},[t._v("Отменить")]),o("button",{staticClass:"ml-1 success",on:{click:t.saveChange}},[t._v(" Сохранить изменении ")]),o("button",{staticClass:"ml-1 danger",on:{click:function(e){return t.remove(t.noteId)}}},[t._v("Удалить")]),o("button",{directives:[{name:"hotkey",rawName:"v-hotkey",value:t.keymap,expression:"keymap"}],staticClass:"ml-1 danger",on:{click:t.undo}},[t._v(" Вернуть ")])]),o("br"),t.loading?o("span",[t._v(t._s(t.loader))]):t._e()],1):t._e()},r=[],i=o("9ab4"),a=o("60a3"),c=o("2fe1"),s=o("8c50"),u=o("52f5"),d=o("d9c5"),p=o("67ac"),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["d"])(e,t),e.prototype.addTodo=function(){if(!this.todoDescription)return alert("Введите название TODO");var t=this.getNotes[this.noteId];this.$saveTo("backupSnapshots",{storageKey:d["a"],data:t}),this.note.todos.push({id:p["a"].generateId(),isDone:!1,description:this.todoDescription}),this.todoDescription=""},e.prototype.removeTodo=function(t){this.note.todos=this.note.todos.filter((function(e){return e.id!==t}))},e=Object(i["c"])([a["a"]],e),e}(a["c"]),l=f,v=o("2f62"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEdit=!1,e.loading=!1,e.loader="",e.title="",e.todoDescription="",e}return Object(i["d"])(e,t),Object.defineProperty(e.prototype,"noteTitle",{get:function(){return this.note.title?this.note.title:"Безымянный"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"note",{get:function(){return this.getNoteById(this.noteId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keymap",{get:function(){return{"ctrl+z":this.undo,"meta+z":this.undo}},enumerable:!0,configurable:!0}),e.prototype.input=function(t){this.title=t.target.value},e.prototype.saveChange=function(){var t=this;this.loading=!0,this.loader="Идет сохранение...",setTimeout((function(){t._saveChange({id:t.noteId,title:t.title||t.noteTitle,todos:t.note.todos}),t.loader="Сохранено",t.isEdit=!1,setTimeout((function(){return t.loading=!1}),500)}),1e3)},e.prototype.toBack=function(){var t=confirm("Отменить изменение?");t&&this.$router.go(-1)},Object(i["c"])([Object(a["b"])({type:Number})],e.prototype,"noteId",void 0),e=Object(i["c"])([Object(a["a"])({components:{AppTodoList:s["a"]},computed:Object(i["a"])({},Object(v["c"])({getNoteById:"getNoteById",getNotes:"getNotes"})),methods:Object(i["a"])(Object(i["a"])({},Object(v["b"])({_saveChange:"_saveChange",_remove:"_remove"})),Object(v["d"])({_restore:"setRestore"}))})],e),e}(Object(c["c"])(u["a"],l)),b=y,h=b,m=o("2877"),g=Object(m["a"])(h,n,r,!1,null,null,null);e["default"]=g.exports},"52f5":function(t,e,o){"use strict";var n=o("9ab4"),r=o("60a3"),i=o("8aaa"),a=o("d9c5"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["d"])(e,t),e.prototype.create=function(){var t=this;if(!this.value)return alert("Не валидные данные");this._create(this.value),this.$nextTick((function(){t.value="",t.$router.push({name:"HomePage"})}))},e.prototype.remove=function(t){var e=confirm("Вы точно хотите #"+t);e&&(this._remove(t),"/"!==this.$route.path&&this.$router.push({name:"HomePage"}))},e.prototype.undo=function(){var t=i["a"].getItem(a["a"],[]),e=t[this.noteId];if(e.length<=0)return alert("Backup "+this.noteId+" is empty");this._restore(this.noteId)},e.prototype.change=function(t){var e={change:"true"},o={noteId:t};this.$router.push({name:"ModifyNotePage",params:o,query:e})},e=Object(n["c"])([r["a"]],e),e}(r["c"]);e["a"]=c},"60a3":function(t,e,o){"use strict";o.d(e,"b",(function(){return c}));var n=o("2b0e");o.d(e,"c",(function(){return n["a"]}));var r=o("2fe1");o.d(e,"a",(function(){return r["b"]}));var i="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function a(t,e,o){if(i&&!Array.isArray(t)&&"function"!==typeof t&&"undefined"===typeof t.type){var n=Reflect.getMetadata("design:type",e,o);n!==Object&&(t.type=n)}}function c(t){return void 0===t&&(t={}),function(e,o){a(t,e,o),Object(r["a"])((function(e,o){(e.props||(e.props={}))[o]=t}))(e,o)}}},"84b3":function(t,e,o){"use strict";var n=o("29ac"),r=o.n(n);r.a},"8c50":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-todo-list"},[t.todos.length>0?o("div",{staticClass:"todo-wrapper"},t._l(t.todos,(function(e){return o("div",{key:e.id,staticClass:"todo-item"},[o("app-todo",{attrs:{todo:e},on:{"remove-todo":function(e){return t.$emit("remove-todo",e)}}})],1)})),0):o("h4",[t._v("Задач пока нет")])])},r=[],i=o("9ab4"),a=o("60a3"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.todo?o("div",[o("div",{staticClass:"app-todo",class:t.isCheck},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.isDone,expression:"todo.isDone"}],staticClass:"mr-1 checkbox",attrs:{disabled:!t.$route.query.change,type:"checkbox"},domProps:{checked:Array.isArray(t.todo.isDone)?t._i(t.todo.isDone,null)>-1:t.todo.isDone},on:{change:function(e){var o=t.todo.isDone,n=e.target,r=!!n.checked;if(Array.isArray(o)){var i=null,a=t._i(o,i);n.checked?a<0&&t.$set(t.todo,"isDone",o.concat([i])):a>-1&&t.$set(t.todo,"isDone",o.slice(0,a).concat(o.slice(a+1)))}else t.$set(t.todo,"isDone",r)}}}),o("div",{staticClass:"options d-flex align-items-center"},[t.isEdit?t._e():o("span",{staticClass:"desc"},[t._v(t._s(t.todo.description))]),t.isEdit?o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.description,expression:"todo.description"}],staticClass:"todo-edit",attrs:{type:"text"},domProps:{value:t.todo.description},on:{input:function(e){e.target.composing||t.$set(t.todo,"description",e.target.value)}}}):t._e(),t.$route.query.change?o("div",{staticClass:"btns"},[o("span",{staticClass:"btn",on:{click:function(e){t.isEdit=!t.isEdit}}},[t._v("Редактировать")]),o("span",{staticClass:"btn",on:{click:function(e){return t.$emit("remove-todo",t.todo.id)}}},[t._v("Удалить")])]):t._e()])])]):t._e()},s=[],u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEdit=!1,e}return Object(i["d"])(e,t),Object.defineProperty(e.prototype,"isCheck",{get:function(){return{done:this.todo.isDone}},enumerable:!0,configurable:!0}),Object(i["c"])([Object(a["b"])({type:Object,default:function(){return{}}})],e.prototype,"todo",void 0),e=Object(i["c"])([a["a"]],e),e}(a["c"]),d=u,p=d,f=(o("84b3"),o("2877")),l=Object(f["a"])(p,c,s,!1,null,null,null),v=l.exports,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["d"])(e,t),Object(i["c"])([Object(a["b"])({type:Array,default:[]})],e.prototype,"todos",void 0),e=Object(i["c"])([Object(a["a"])({components:{AppTodo:v}})],e),e}(a["c"]),b=y,h=b,m=Object(f["a"])(h,n,r,!1,null,null,null);e["a"]=m.exports}}]);
//# sourceMappingURL=chunk-1f5091fe.44e7fe05.js.map